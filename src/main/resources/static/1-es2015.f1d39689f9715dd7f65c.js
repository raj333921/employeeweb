(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"4sam":function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var o=r("fXoL");let i=(()=>{class e{constructor(){this.dropped=new o.o,this.hovered=new o.o}onDrop(e){e.preventDefault(),this.dropped.emit(e),this.hovered.emit(!1)}onDragOver(e){e.preventDefault(),this.hovered.emit(!0)}onDragLeave(e){e.preventDefault(),this.hovered.emit(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=o.Jb({type:e,selectors:[["","appDropZone",""]],hostBindings:function(e,t){1&e&&o.cc("drop",(function(e){return t.onDrop(e)}))("dragover",(function(e){return t.onDragOver(e)}))("dragleave",(function(e){return t.onDragLeave(e)}))},outputs:{dropped:"dropped",hovered:"hovered"}}),e})()},"bF/t":function(e,t,r){"use strict";r.d(t,"a",(function(){return ae}));var o=r("fXoL"),i=r("3Pt+"),a=r("VHTt"),l=r("tyNb"),n=r("o0su"),c=r("3TQZ"),s=r("0IMw"),m=r("OcdX"),d=r("kmnG"),p=r("qFsG"),b=r("ofXK"),f=r("d3UM"),u=r("iadO"),g=r("Qu3c"),h=r("bTqV"),C=r("FKr1"),D=r("oWnG"),T=r("4sam");function v(e,t){if(1&e&&(o.Ub(0,"mat-error",38),o.Ec(1),o.Tb()),2&e){const e=o.gc();o.lc("matTooltip",e.getError("firstName")),o.Cb(1),o.Gc(" ",e.getError("firstName")," ")}}function k(e,t){if(1&e&&(o.Ub(0,"mat-error",38),o.Ec(1),o.Tb()),2&e){const e=o.gc();o.lc("matTooltip",e.getError("lastName")),o.Cb(1),o.Gc(" ",e.getError("lastName")," ")}}function y(e,t){if(1&e&&(o.Ub(0,"mat-option",39),o.Ec(1),o.hc(2,"titlecase"),o.Tb()),2&e){const e=t.$implicit;o.lc("value",e.value),o.Cb(1),o.Gc(" ",o.ic(2,2,e.displayType)," ")}}function P(e,t){if(1&e&&(o.Ub(0,"mat-error",38),o.Ec(1),o.Tb()),2&e){const e=o.gc();o.lc("matTooltip",e.getError("sex")),o.Cb(1),o.Gc(" ",e.getError("sex")," ")}}function w(e,t){if(1&e&&(o.Ub(0,"mat-error",38),o.Ec(1),o.Tb()),2&e){const e=o.gc();o.lc("matTooltip",e.getError("dateOfBirth")),o.Cb(1),o.Gc(" ",e.getError("dateOfBirth")," ")}}function U(e,t){if(1&e&&(o.Ub(0,"mat-error",38),o.Ec(1),o.Tb()),2&e){const e=o.gc();o.lc("matTooltip",e.getError("jobRole")),o.Cb(1),o.Gc(" ",e.getError("jobRole")," ")}}function E(e,t){if(1&e&&(o.Ub(0,"mat-error",38),o.Ec(1),o.Tb()),2&e){const e=o.gc();o.lc("matTooltip",e.getError("emailId")),o.Cb(1),o.Gc(" ",e.getError("emailId")," ")}}function x(e,t){if(1&e&&(o.Ub(0,"mat-error",38),o.Ec(1),o.Tb()),2&e){const e=o.gc();o.lc("matTooltip",e.getError("contactNumber")),o.Cb(1),o.Gc(" ",e.getError("contactNumber")," ")}}function O(e,t){if(1&e&&(o.Ub(0,"mat-error",38),o.Ec(1),o.Tb()),2&e){const e=o.gc();o.lc("matTooltip",e.getError("addressLine1")),o.Cb(1),o.Gc(" ",e.getError("addressLine1")," ")}}function N(e,t){if(1&e&&(o.Ub(0,"mat-error",38),o.Ec(1),o.Tb()),2&e){const e=o.gc();o.lc("matTooltip",e.getError("addressLine2")),o.Cb(1),o.Gc(" ",e.getError("addressLine2")," ")}}function F(e,t){if(1&e&&(o.Ub(0,"mat-error",38),o.Ec(1),o.Tb()),2&e){const e=o.gc();o.lc("matTooltip",e.getError("city")),o.Cb(1),o.Gc(" ",e.getError("city")," ")}}function I(e,t){if(1&e&&(o.Ub(0,"mat-error",38),o.Ec(1),o.Tb()),2&e){const e=o.gc();o.lc("matTooltip",e.getError("postalCode")),o.Cb(1),o.Gc(" ",e.getError("postalCode")," ")}}function M(e,t){if(1&e&&(o.Ub(0,"mat-error",38),o.Ec(1),o.Tb()),2&e){const e=o.gc();o.lc("matTooltip",e.getError("country")),o.Cb(1),o.Gc(" ",e.getError("country")," ")}}function _(e,t){if(1&e&&(o.Ub(0,"mat-error",38),o.Ec(1),o.Tb()),2&e){const e=o.gc().index,t=o.gc();o.lc("matTooltip",t.getError("workPermitNumber","workPermitDetails",e)),o.Cb(1),o.Gc(" ",t.getError("workPermitNumber","workPermitDetails",e)," ")}}function A(e,t){1&e&&o.Qb(0)}function G(e,t){if(1&e&&(o.Ub(0,"mat-error",38),o.Ec(1),o.Tb()),2&e){const e=o.gc().index,t=o.gc();o.lc("matTooltip",t.getError("startDate","workPermitDetails",e)),o.Cb(1),o.Gc(" ",t.getError("startDate","workPermitDetails",e)," ")}}function V(e,t){if(1&e&&(o.Ub(0,"mat-error",38),o.Ec(1),o.Tb()),2&e){const e=o.gc().index,t=o.gc();o.lc("matTooltip",t.getError("endDate","workPermitDetails",e)),o.Cb(1),o.Gc(" ",t.getError("endDate","workPermitDetails",e)," ")}}const S=function(e,t){return{item:e,i:t,fan:"workPermitDetails"}};function L(e,t){if(1&e){const e=o.Vb();o.Ub(0,"fieldset",40),o.Ub(1,"div",41),o.Ub(2,"div",42),o.Ec(3),o.Tb(),o.Ub(4,"div",7),o.Ub(5,"mat-form-field",8),o.Ub(6,"mat-label"),o.Ec(7,"Work Permit Number"),o.Tb(),o.Pb(8,"input",43),o.Cc(9,_,2,2,"mat-error",10),o.Tb(),o.Cc(10,A,1,0,"ng-container",44),o.Tb(),o.Ub(11,"div",7),o.Ub(12,"mat-form-field",45),o.Ub(13,"mat-label"),o.Ec(14,"Start Date"),o.Tb(),o.Pb(15,"input",46),o.Pb(16,"mat-datepicker-toggle",16),o.Pb(17,"mat-datepicker",null,47),o.Cc(19,G,2,2,"mat-error",10),o.Tb(),o.Ub(20,"mat-form-field",45),o.Ub(21,"mat-label"),o.Ec(22,"End Date"),o.Tb(),o.Pb(23,"input",48),o.Pb(24,"mat-datepicker-toggle",16),o.Pb(25,"mat-datepicker",null,49),o.Cc(27,V,2,2,"mat-error",10),o.Tb(),o.Ub(28,"div",50),o.Ub(29,"button",51),o.cc("click",(function(){o.vc(e);const r=t.index;return o.gc().removeWorkPermit(r)})),o.Ec(30,"Delete "),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()}if(2&e){const e=t.$implicit,r=t.index,i=o.sc(18),a=o.sc(26),l=o.gc(),n=o.sc(110);o.Cb(1),o.lc("formGroupName",r),o.Cb(2),o.Gc(" Work Permit ",r+1," "),o.Cb(6),o.lc("ngIf",l.isFieldValid("workPermitNumber","workPermitDetails",r)),o.Cb(1),o.lc("ngTemplateOutlet",n)("ngTemplateOutletContext",o.qc(15,S,e,r)),o.Cb(5),o.lc("min",l.pastDate(5))("max",l.currentDate)("matDatepicker",i),o.Cb(1),o.lc("for",i),o.Cb(3),o.lc("ngIf",l.isFieldValid("startDate","workPermitDetails",r)),o.Cb(4),o.lc("min",l.currentDate)("max",l.futureDate(100))("matDatepicker",a),o.Cb(1),o.lc("for",a),o.Cb(3),o.lc("ngIf",l.isFieldValid("endDate","workPermitDetails",r))}}function R(e,t){if(1&e&&(o.Ub(0,"mat-error",38),o.Ec(1),o.Tb()),2&e){const e=o.gc().index,t=o.gc();o.lc("matTooltip",t.getError("passportNumber","passportDetails",e)),o.Cb(1),o.Gc(" ",t.getError("passportNumber","passportDetails",e)," ")}}function B(e,t){1&e&&o.Qb(0)}function j(e,t){if(1&e&&(o.Ub(0,"mat-error",38),o.Ec(1),o.Tb()),2&e){const e=o.gc().index,t=o.gc();o.lc("matTooltip",t.getError("startDate","passportDetails",e)),o.Cb(1),o.Gc(" ",t.getError("startDate","passportDetails",e)," ")}}function q(e,t){if(1&e&&(o.Ub(0,"mat-error",38),o.Ec(1),o.Tb()),2&e){const e=o.gc().index,t=o.gc();o.lc("matTooltip",t.getError("endDate","passportDetails",e)),o.Cb(1),o.Gc(" ",t.getError("endDate","passportDetails",e)," ")}}function z(e,t){if(1&e&&(o.Ub(0,"mat-error",38),o.Ec(1),o.Tb()),2&e){const e=o.gc().index,t=o.gc();o.lc("matTooltip",t.getError("birthPlace","passportDetails",e)),o.Cb(1),o.Gc(" ",t.getError("birthPlace","passportDetails",e)," ")}}function W(e,t){if(1&e&&(o.Ub(0,"mat-error",38),o.Ec(1),o.Tb()),2&e){const e=o.gc().index,t=o.gc();o.lc("matTooltip",t.getError("issuePlace","passportDetails",e)),o.Cb(1),o.Gc(" ",t.getError("issuePlace","passportDetails",e)," ")}}const H=function(e,t){return{item:e,i:t,fan:"passportDetails"}};function $(e,t){if(1&e){const e=o.Vb();o.Ub(0,"fieldset",52),o.Ub(1,"div",41),o.Ub(2,"div",42),o.Ec(3),o.Tb(),o.Ub(4,"div",7),o.Ub(5,"mat-form-field",8),o.Ub(6,"mat-label"),o.Ec(7,"Passport Number"),o.Tb(),o.Pb(8,"input",53),o.Cc(9,R,2,2,"mat-error",10),o.Tb(),o.Cc(10,B,1,0,"ng-container",44),o.Tb(),o.Ub(11,"div",7),o.Ub(12,"mat-form-field",8),o.Ub(13,"mat-label"),o.Ec(14,"Issued On"),o.Tb(),o.Pb(15,"input",54),o.Pb(16,"mat-datepicker-toggle",16),o.Pb(17,"mat-datepicker",null,55),o.Cc(19,j,2,2,"mat-error",10),o.Tb(),o.Ub(20,"mat-form-field",8),o.Ub(21,"mat-label"),o.Ec(22,"Expires On"),o.Tb(),o.Pb(23,"input",56),o.Pb(24,"mat-datepicker-toggle",16),o.Pb(25,"mat-datepicker",null,57),o.Cc(27,q,2,2,"mat-error",10),o.Tb(),o.Tb(),o.Ub(28,"div",7),o.Ub(29,"mat-form-field",45),o.Ub(30,"mat-label"),o.Ec(31,"Birth Place"),o.Tb(),o.Pb(32,"input",58),o.Cc(33,z,2,2,"mat-error",10),o.Tb(),o.Ub(34,"mat-form-field",45),o.Ub(35,"mat-label"),o.Ec(36,"Issued At"),o.Tb(),o.Pb(37,"input",59),o.Cc(38,W,2,2,"mat-error",10),o.Tb(),o.Ub(39,"div",50),o.Ub(40,"button",51),o.cc("click",(function(){o.vc(e);const r=t.index;return o.gc().removePassport(r)})),o.Ec(41,"Delete "),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()}if(2&e){const e=t.$implicit,r=t.index,i=o.sc(18),a=o.sc(26),l=o.gc(),n=o.sc(110);o.Cb(1),o.lc("formGroupName",r),o.Cb(2),o.Gc(" Passport ",r+1," "),o.Cb(6),o.lc("ngIf",l.isFieldValid("passportNumber","passportDetails",r)),o.Cb(1),o.lc("ngTemplateOutlet",n)("ngTemplateOutletContext",o.qc(17,H,e,r)),o.Cb(5),o.lc("min",l.pastDate(20))("max",l.currentDate)("matDatepicker",i),o.Cb(1),o.lc("for",i),o.Cb(3),o.lc("ngIf",l.isFieldValid("startDate","passportDetails",r)),o.Cb(4),o.lc("min",l.currentDate)("max",l.futureDate(100))("matDatepicker",a),o.Cb(1),o.lc("for",a),o.Cb(3),o.lc("ngIf",l.isFieldValid("endDate","passportDetails",r)),o.Cb(6),o.lc("ngIf",l.isFieldValid("birthPlace","passportDetails",r)),o.Cb(5),o.lc("ngIf",l.isFieldValid("issuePlace","passportDetails",r))}}function X(e,t){if(1&e&&(o.Ub(0,"mat-error",38),o.Ec(1),o.Tb()),2&e){const e=o.gc().index,t=o.gc();o.lc("matTooltip",t.getError("firstName","familyDetails",e)),o.Cb(1),o.Gc(" ",t.getError("firstName","familyDetails",e)," ")}}function K(e,t){if(1&e&&(o.Ub(0,"mat-error",38),o.Ec(1),o.Tb()),2&e){const e=o.gc().index,t=o.gc();o.lc("matTooltip",t.getError("lastName","familyDetails",e)),o.Cb(1),o.Gc(" ",t.getError("lastName","familyDetails",e)," ")}}function Z(e,t){if(1&e&&(o.Ub(0,"mat-option",39),o.Ec(1),o.hc(2,"titlecase"),o.Tb()),2&e){const e=t.$implicit;o.lc("value",e.value),o.Cb(1),o.Gc(" ",o.ic(2,2,e.displayType)," ")}}function J(e,t){if(1&e&&(o.Ub(0,"mat-error",38),o.Ec(1),o.Tb()),2&e){const e=o.gc().index,t=o.gc();o.lc("matTooltip",t.getError("relation","familyDetails",e)),o.Cb(1),o.Gc(" ",t.getError("relation","familyDetails",e)," ")}}function Q(e,t){if(1&e&&(o.Ub(0,"mat-error",38),o.Ec(1),o.Tb()),2&e){const e=o.gc().index,t=o.gc();o.lc("matTooltip",t.getError("contactNumber","familyDetails",e)),o.Cb(1),o.Gc(" ",t.getError("contactNumber","familyDetails",e)," ")}}function Y(e,t){if(1&e){const e=o.Vb();o.Ub(0,"fieldset",60),o.Ub(1,"div",61),o.Ub(2,"div",42),o.Ec(3),o.Tb(),o.Ub(4,"div",7),o.Ub(5,"mat-form-field",8),o.Ub(6,"mat-label"),o.Ec(7,"First Name"),o.Tb(),o.Pb(8,"input",62),o.Cc(9,X,2,2,"mat-error",10),o.Tb(),o.Ub(10,"mat-form-field",8),o.Ub(11,"mat-label"),o.Ec(12,"Last Name"),o.Tb(),o.Pb(13,"input",63),o.Cc(14,K,2,2,"mat-error",10),o.Tb(),o.Tb(),o.Ub(15,"div",7),o.Ub(16,"mat-form-field",45),o.Ub(17,"mat-label"),o.Ec(18,"Relation"),o.Tb(),o.Ub(19,"mat-select",64),o.Cc(20,Z,3,4,"mat-option",14),o.Tb(),o.Cc(21,J,2,2,"mat-error",10),o.Tb(),o.Ub(22,"mat-form-field",45),o.Ub(23,"mat-label"),o.Ec(24,"Contact Number"),o.Tb(),o.Pb(25,"input",65),o.Cc(26,Q,2,2,"mat-error",10),o.Tb(),o.Ub(27,"div",50),o.Ub(28,"button",51),o.cc("click",(function(){o.vc(e);const r=t.index;return o.gc().removeFamilyMember(r)})),o.Ec(29,"Delete "),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()}if(2&e){const e=t.index,r=o.gc();o.Cb(1),o.lc("formGroupName",e),o.Cb(2),o.Gc(" Family Member ",e+1," "),o.Cb(6),o.lc("ngIf",r.isFieldValid("firstName","familyDetails",e)),o.Cb(5),o.lc("ngIf",r.isFieldValid("lastName","familyDetails",e)),o.Cb(6),o.lc("ngForOf",r.relationOptions),o.Cb(1),o.lc("ngIf",r.isFieldValid("relation","familyDetails",e)),o.Cb(5),o.lc("ngIf",r.isFieldValid("contactNumber","familyDetails",e))}}function ee(e,t){1&e&&o.Qb(0)}const te=function(e,t){return{file:e,fileName:t}};function re(e,t){if(1&e){const e=o.Vb();o.Ub(0,"div",70),o.Pb(1,"i",71),o.Ub(2,"span",72),o.Ec(3),o.Tb(),o.Ub(4,"i",73),o.cc("click",(function(t){o.vc(e);const r=o.gc(),i=r.i,a=r.fan,l=r.item;return o.gc().deleteFile(t,i,a,l)})),o.Tb(),o.Tb(),o.Pb(5,"div",74)}if(2&e){const e=o.gc().item;var r=null;const t=o.qc(3,te,null==e||null==(r=e.getRawValue())||null==r.doc?null:r.doc.file,null==e||null==(r=e.getRawValue())||null==r.doc?null:r.doc.fileName);var i=null;const l=null==e||null==(i=e.getRawValue())||null==i.doc?null:i.doc.fileName;var a=null;o.Cb(1),o.lc("appFileDownload",t),o.Cb(1),o.lc("matTooltip",l),o.Cb(1),o.Gc(" ",null==e||null==(a=e.getRawValue())||null==a.doc?null:a.doc.fileName," ")}}function oe(e,t){if(1&e){const e=o.Vb();o.Ub(0,"div",75),o.cc("hovered",(function(t){o.vc(e);const r=o.gc().i;return o.gc().toggleHover(t,r)}))("dropped",(function(t){o.vc(e);const r=o.gc(),i=r.i,a=r.fan,l=r.item;return o.gc().startUpload(t,i,a,l)})),o.Pb(1,"i",76),o.Ub(2,"span",77),o.Ec(3,"Drag a file, or"),o.Tb(),o.Ub(4,"label",78),o.Ec(5,"browse "),o.Ub(6,"input",79),o.cc("change",(function(t){o.vc(e);const r=o.gc(),i=r.i,a=r.fan,l=r.item;return o.gc().startUpload(t,i,a,l)})),o.Tb(),o.Tb(),o.Tb(),o.Ub(7,"div",74),o.Ub(8,"mat-error",80),o.Ec(9),o.Tb(),o.Tb()}if(2&e){const e=o.gc(),t=e.item,r=e.i,i=o.gc();o.Fb("error-bdr",t.fileUploadError)("on-hover",i.isHovering&&i.activeHoverIndex===r),o.lc("matTooltip","Allow only any one of the jpeg, png and pdf files of size upto 5MB"),o.Cb(8),o.lc("hidden",!t.fileUploadError)("matTooltip",t.fileUploadError),o.Cb(1),o.Gc("",t.fileUploadError," ")}}function ie(e,t){if(1&e&&(o.Ub(0,"div",66),o.Cc(1,ee,1,0,"ng-container",67),o.Cc(2,re,6,6,"ng-template",null,68,o.Dc),o.Cc(4,oe,10,8,"ng-template",null,69,o.Dc),o.Tb()),2&e){const e=t.item,i=t.i,a=t.fan,l=o.sc(3),n=o.sc(5),c=o.gc();var r=null;const s=null==e||null==(r=e.getRawValue())||null==r.doc?null:r.doc.fileName;o.Fb("disabled",c.disableFileUpload(a,i)),o.Cb(1),o.lc("ngIf",s)("ngIfThen",l)("ngIfElse",n)}}let ae=(()=>{class e{constructor(e,t,r,l,n,c,s,m){this.formBuilder=e,this.router=t,this.httpService=r,this.authService=l,this.route=n,this.comService=c,this.snackBar=s,this.cdr=m,this.isUserProfile=!1,this.cancelAction=new o.o,this.submitAction=new o.o,this.genderOptions=[{displayType:a.d.NONE,value:""},{displayType:a.d.MALE,value:"M"},{displayType:a.d.FEMALE,value:"F"},{displayType:a.d.OTHERS,value:"O"}],this.relationOptions=[{displayType:a.e.NONE,value:0},{displayType:a.e.SPOUSE,value:1},{displayType:a.e.SON,value:2},{displayType:a.e.DAUGHTER,value:3}],this.supportingDocs=[],this.workPermitFormGroup={workPermitNumber:[""],startDate:[""],endDate:[""],validity:[0],doc:{value:null,disabled:!0},documentName:{value:"",disabled:!0},documentType:{value:"",disabled:!0}},this.passportFormGroup={passportNumber:[""],startDate:[""],issuePlace:[""],birthPlace:[""],endDate:[""],validity:[0],doc:{value:null,disabled:!0},documentName:{value:"",disabled:!0},documentType:{value:"",disabled:!0}},this.familyMemberFormGroup={id:[0],firstName:["",[i.s.minLength(2)]],lastName:["",[i.s.minLength(2)]],contactNumber:["",[i.s.minLength(2)]],relation:[0]},this.subscriptions=[],this.subscriptions.push(l.$profileUser.subscribe(e=>{this.profileUser=e,this.companyId=e.companyId}))}get currentDate(){return new Date}get workPermitDetails(){return this.empDetailsForm.get("workPermitDetails")}get passportDetails(){return this.empDetailsForm.get("passportDetails")}get familyDetails(){return this.empDetailsForm.get("familyDetails")}pastDate(e){return new Date((new Date).getTime()-365*e*a.k)}futureDate(e){return new Date((new Date).getTime()+365*e*a.k)}ngOnInit(){}ngAfterViewChecked(){this.cdr.detectChanges()}ngOnChanges(){this.empDetailsForm=this.formBuilder.group({id:[""],firstName:["",[i.s.required,i.s.minLength(2),this.comService.regexValidator(new RegExp(a.j.pattern),{genericName:a.j.errorMsg})]],lastName:["",[i.s.required,i.s.minLength(2),this.comService.regexValidator(new RegExp(a.j.pattern),{genericName:a.j.errorMsg})]],dateOfBirth:["",[i.s.required]],sex:["",[i.s.required]],jobRole:["",[i.s.required,i.s.minLength(2)]],emailId:["",[i.s.required,i.s.email]],contactNumber:["",[i.s.required,i.s.minLength(10)]],addressLine1:[""],addressLine2:[""],city:[""],state:[""],country:[""],postalCode:[""],department:[""],reportingPerson:[""],workLocation:[""],workPermitDetails:this.formBuilder.array([]),passportDetails:this.formBuilder.array([]),familyDetails:this.formBuilder.array([])}),this.empDetails&&this.setDynamicValue(a.c.createEmp(this.empDetails))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}setDynamicValue(e){e.workPermitDetails.length&&(this.workPermitDetails.clear(),e.workPermitDetails.forEach((e,t)=>{const r=this.newWorkPermit();this.workPermitDetails.push(r),this.httpService.downloadDocument({documentNumber:e.workPermitNumber,documentType:a.b.WORKPERMIT,employeeId:this.empDetails.id}).subscribe(r=>{r&&this.workPermitDetails.controls[t].get("doc").patchValue({fileName:e.documentName,file:r})})})),e.passportDetails.length&&(this.passportDetails.clear(),e.passportDetails.forEach((e,t)=>{const r=this.newPassport();this.passportDetails.push(r),this.httpService.downloadDocument({documentNumber:e.passportNumber,documentType:a.b.PASSPORT,employeeId:this.empDetails.id}).subscribe(r=>{r&&this.passportDetails.controls[t].get("doc").patchValue({fileName:e.documentName,file:r})})})),e.familyDetails.length&&(this.familyDetails.clear(),e.familyDetails.forEach(e=>{const t=this.newFamilyMember();this.familyDetails.push(t)})),this.empDetailsForm.setValue(e)}newWorkPermit(){return this.formBuilder.group(this.workPermitFormGroup)}addWorkPermit(){this.workPermitDetails.push(this.newWorkPermit())}removeWorkPermit(e){this.workPermitDetails.removeAt(e)}newPassport(){return this.formBuilder.group(this.passportFormGroup)}addPassport(){this.passportDetails.push(this.newPassport())}removePassport(e){this.passportDetails.removeAt(e)}newFamilyMember(){return this.formBuilder.group(this.familyMemberFormGroup)}addFamilyMember(){this.familyDetails.push(this.newFamilyMember())}removeFamilyMember(e){this.familyDetails.removeAt(e)}disableDeleteBtn(e){return this.findFormArray(e).length<=1}disableAddBtn(e){return this.findFormArray(e).controls.some(e=>{const t=Object.values(e.value).some(e=>"string"==typeof e&&e.length<2||"number"==typeof e&&e<0||void 0);return e.invalid||t?"disabled":""})}disableFileUpload(e,t){const r=this.findFormArray(e).at(t),o=Object.values(r.value).some(e=>"string"==typeof e&&e.length<2||"number"==typeof e&&e<0||void 0);return r.invalid||o}isFieldValid(e,t,r){const o=t?this.findFormArray(t).at(r).get(e):this.empDetailsForm.get(e);return o.invalid&&o.touched}getError(e,t,r){const o=t?this.findFormArray(t).at(r).get(e):this.empDetailsForm.get(e);return console.log("empFormField.errors",o.errors),o.hasError("required")?"Field is required":o.hasError("minlength")?"Please enter minimum 2 characters":o.hasError("email")?"Please enter a valid email format":o.hasError(a.j.name)?o.getError(a.j.name):""}findFormArray(e){let t;switch(e){case"workPermitDetails":t=this.workPermitDetails;break;case"passportDetails":t=this.passportDetails;break;case"familyDetails":t=this.familyDetails;break;default:console.log("no-group")}return t}onSubmit(){this.empDetailsForm.valid&&(console.log(this.empDetailsForm.value),console.log(this.empDetailsForm.getRawValue()),this.subscriptions.push(this.httpService.addEditEmployee({companyId:this.companyId,employeeDetails:this.empDetailsForm.value}).subscribe(e=>{this.profileUser&&this.profileUser.employeeDetails.id===e.id&&this.authService.profileUserResp.next(Object.assign(Object.assign({},this.profileUser),{employeeDetails:e})),this.snackBar.openSnackBar(this.isUserProfile?"Your profile details have been modified successfully":this.empDetails?"Employee details have been modified in the list successfully":"A new Employee has been added successfully",a.a.SUCCESS),this.submitAction.emit(e.id);const t=this.empDetailsForm.getRawValue().workPermitDetails,r=this.empDetailsForm.getRawValue().passportDetails;t.length&&t.forEach(t=>{t.doc&&this.supportingDocs.push({value:{documentType:a.b.WORKPERMIT,documentNumber:t.workPermitNumber,employeeId:e.id},file:t.doc.file})}),r.length&&t.forEach(t=>{t.doc&&this.supportingDocs.push({value:{documentType:a.b.PASSPORT,documentNumber:t.passportNumber,employeeId:e.id},file:t.doc.file})}),this.supportingDocs.length&&e.id&&(this.supportingDocs.map(t=>t.value.employeeId=e.id),this.supportingDocs.forEach(e=>{this.httpService.uploadDocument(e).subscribe(e=>{console.log("docResp",e)})}))})))}onCancel(){this.cancelAction.emit()}toggleHover(e,t){this.isHovering=e,this.activeHoverIndex=t}startUpload(e,t,r,o){o.fileUploadError="";const i="drop"===e.type?e.dataTransfer.files:e.target.files;if(i&&0===i.length)return;i&&1===i.length?i[0].size<=a.i?["image/png","image/jpeg","image/jpg","application/pdf"].indexOf(i[0].type)>-1?(o.fileUploadError="",o.patchValue({documentType:i[0].type,documentName:i[0].name,doc:{fileName:i[0].name,file:i[0]}})):o.fileUploadError="The file you are trying to upload is of unaccepted format":o.fileUploadError="File size should be less that 2MB":o.fileUploadError="Try again uploading only a single file"}deleteFile(e,t,r,o){let i;e.stopImmediatePropagation(),"workPermitDetails"===r?i={documentType:a.b.WORKPERMIT,documentNumber:o.value.workPermitNumber,employeeId:this.empDetails?this.empDetails.id:""}:"passportDetails"===r&&(i={documentType:a.b.PASSPORT,documentNumber:o.value.passportNumber,employeeId:this.empDetails?this.empDetails.id:""}),o.initialUpload?o.patchValue({documentType:"",documentName:"",doc:null}):this.httpService.deleteDocument(i).subscribe(e=>{o.patchValue({documentType:"",documentName:"",doc:null}),this.snackBar.openSnackBar(e.message,a.a.SUCCESS)})}}return e.\u0275fac=function(t){return new(t||e)(o.Ob(i.d),o.Ob(l.d),o.Ob(n.a),o.Ob(c.a),o.Ob(l.a),o.Ob(s.a),o.Ob(m.a),o.Ob(o.h))},e.\u0275cmp=o.Ib({type:e,selectors:[["app-edit-profile"]],inputs:{empDetails:"empDetails",isUserProfile:"isUserProfile"},outputs:{cancelAction:"cancelAction",submitAction:"submitAction"},features:[o.Ab],decls:111,vars:29,consts:[["id","edit-profile",1,"fixed-route-view"],[1,"container","my-3"],["id","empForm",3,"formGroup"],[1,"py-3"],[1,"border","border-bottom-0","mx-3","px-3"],[1,"py-2"],[1,"px-3"],[1,"row","p-0"],["appearance","outline",1,"col-12","col-sm-6"],["matInput","","placeholder","First Name","formControlName","firstName","required",""],[3,"matTooltip",4,"ngIf"],["matInput","","placeholder","Last Name","formControlName","lastName","required",""],["appearance","outline",1,"col-12","col-sm-4"],["formControlName","sex","required",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","Choose a date","formControlName","dateOfBirth","required","",3,"min","max","matDatepicker"],["matSuffix","",3,"for"],["dobPicker",""],["matInput","","placeholder","Job role","formControlName","jobRole","required",""],["matInput","","placeholder","Email","formControlName","emailId","required","",3,"readonly"],["matInput","","placeholder","Contact","formControlName","contactNumber","required",""],["matInput","","placeholder","Address Line 1","formControlName","addressLine1"],["matInput","","placeholder","Address Line 2","formControlName","addressLine2"],["matInput","","placeholder","City","formControlName","city"],["matInput","","placeholder","Zip Code","formControlName","postalCode"],["matInput","","placeholder","Country","formControlName","country"],[1,"label","pl-2","fa","fa-info-circle",3,"matTooltip"],["formArrayName","workPermitDetails","class","px-3",4,"ngFor","ngForOf"],[1,"row","pb-3","add-item-btn"],["mat-stroked-button","","color","primary",1,"col-12","col-sm-2","btn-block",3,"disabled","click"],["formArrayName","passportDetails","class","px-3",4,"ngFor","ngForOf"],[1,"border","mx-3","px-3"],["formArrayName","familyDetails","class","px-3",4,"ngFor","ngForOf"],[1,"row","mx-3"],[1,"my-3","flex-grow-1","text-right"],["mat-raised-button","",1,"mr-3",3,"click"],["mat-raised-button","","color","primary",1,"ml-3",3,"disabled","click"],["fileUploadField",""],[3,"matTooltip"],[3,"value"],["formArrayName","workPermitDetails",1,"px-3"],[3,"formGroupName"],[1,"row","py-2","px-3"],["matInput","","placeholder","Work Permit Number","formControlName","workPermitNumber"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["appearance","outline",1,"col-12","col-sm-5"],["matInput","","placeholder","Start Date","formControlName","startDate",3,"min","max","matDatepicker"],["wpStartPicker",""],["matInput","","placeholder","End Date","formControlName","endDate",3,"min","max","matDatepicker"],["wpEndPicker",""],[1,"col-12","col-sm-2","py-1","text-right"],["mat-stroked-button","","color","warn",1,"btn-block",3,"click"],["formArrayName","passportDetails",1,"px-3"],["matInput","","placeholder","Passport Number","formControlName","passportNumber"],["matInput","","placeholder","Issued On","formControlName","startDate",3,"min","max","matDatepicker"],["ppStartPicker",""],["matInput","","placeholder","Expires On","formControlName","endDate",3,"min","max","matDatepicker"],["ppEndPicker",""],["matInput","","placeholder","Birth Place","formControlName","birthPlace"],["matInput","","placeholder","Issued At","formControlName","issuePlace"],["formArrayName","familyDetails",1,"px-3"],[1,"",3,"formGroupName"],["matInput","","placeholder","First Name","formControlName","firstName"],["matInput","","placeholder","Last Name","formControlName","lastName"],["formControlName","relation"],["matInput","","placeholder","Contact Number","formControlName","contactNumber"],[1,"col-12","col-sm-6"],[4,"ngIf","ngIfThen","ngIfElse"],["fileSection",""],["browseSection",""],[1,"file-zone","d-flex","align-items-center"],[1,"click-file-download-icon","pl-2","fa-lg","fas","fa-cloud-download-alt","clickable",3,"appFileDownload"],[1,"px-2","flex-grow-1","txt-ellipsis",3,"matTooltip"],[1,"px-2","error-icon","far","fa-trash-alt",3,"click"],[1,"file-custom-error"],["appDropZone","",1,"drop-zone","d-flex","flex-row","align-items-center","justify-content-left",3,"matTooltip","hovered","dropped"],[1,"pl-2","fa-lg","fas","fa-cloud-upload-alt"],[1,"pl-2","d-none","d-lg-block"],[1,"pl-2","anchor-link","d-inline","m-0"],["type","file","accept",".png, .jpg, .jpeg, .pdf",1,"d-none",3,"change"],[3,"hidden","matTooltip"]],template:function(e,t){if(1&e&&(o.Ub(0,"div",0),o.Ub(1,"div",1),o.Ub(2,"form",2),o.Ub(3,"div",3),o.Ec(4),o.Tb(),o.Ub(5,"div",4),o.Ub(6,"div",5),o.Ec(7,"Employee Details"),o.Tb(),o.Ub(8,"fieldset",6),o.Ub(9,"div",7),o.Ub(10,"mat-form-field",8),o.Ub(11,"mat-label"),o.Ec(12,"First Name"),o.Tb(),o.Pb(13,"input",9),o.Cc(14,v,2,2,"mat-error",10),o.Tb(),o.Ub(15,"mat-form-field",8),o.Ub(16,"mat-label"),o.Ec(17,"Last Name"),o.Tb(),o.Pb(18,"input",11),o.Cc(19,k,2,2,"mat-error",10),o.Tb(),o.Tb(),o.Ub(20,"div",7),o.Ub(21,"mat-form-field",12),o.Ub(22,"mat-label"),o.Ec(23,"Gender"),o.Tb(),o.Ub(24,"mat-select",13),o.Cc(25,y,3,4,"mat-option",14),o.Tb(),o.Cc(26,P,2,2,"mat-error",10),o.Tb(),o.Ub(27,"mat-form-field",12),o.Ub(28,"mat-label"),o.Ec(29,"Date Of Birth"),o.Tb(),o.Pb(30,"input",15),o.Pb(31,"mat-datepicker-toggle",16),o.Pb(32,"mat-datepicker",null,17),o.Cc(34,w,2,2,"mat-error",10),o.Tb(),o.Ub(35,"mat-form-field",12),o.Ub(36,"mat-label"),o.Ec(37,"Job Role"),o.Tb(),o.Pb(38,"input",18),o.Cc(39,U,2,2,"mat-error",10),o.Tb(),o.Tb(),o.Ub(40,"div",7),o.Ub(41,"mat-form-field",8),o.Ub(42,"mat-label"),o.Ec(43,"Email"),o.Tb(),o.Pb(44,"input",19),o.Cc(45,E,2,2,"mat-error",10),o.Tb(),o.Ub(46,"mat-form-field",8),o.Ub(47,"mat-label"),o.Ec(48,"Contact"),o.Tb(),o.Pb(49,"input",20),o.Cc(50,x,2,2,"mat-error",10),o.Tb(),o.Tb(),o.Ub(51,"div",7),o.Ub(52,"mat-form-field",8),o.Ub(53,"mat-label"),o.Ec(54,"Address Line 1"),o.Tb(),o.Pb(55,"input",21),o.Cc(56,O,2,2,"mat-error",10),o.Tb(),o.Ub(57,"mat-form-field",8),o.Ub(58,"mat-label"),o.Ec(59,"Address Line 2"),o.Tb(),o.Pb(60,"input",22),o.Cc(61,N,2,2,"mat-error",10),o.Tb(),o.Tb(),o.Ub(62,"div",7),o.Ub(63,"mat-form-field",12),o.Ub(64,"mat-label"),o.Ec(65,"City"),o.Tb(),o.Pb(66,"input",23),o.Cc(67,F,2,2,"mat-error",10),o.Tb(),o.Ub(68,"mat-form-field",12),o.Ub(69,"mat-label"),o.Ec(70,"Zip"),o.Tb(),o.Pb(71,"input",24),o.Cc(72,I,2,2,"mat-error",10),o.Tb(),o.Ub(73,"mat-form-field",12),o.Ub(74,"mat-label"),o.Ec(75,"Country"),o.Tb(),o.Pb(76,"input",25),o.Cc(77,M,2,2,"mat-error",10),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(78,"div",4),o.Ub(79,"div",5),o.Ub(80,"span"),o.Ec(81,"Work Permit Details"),o.Tb(),o.Pb(82,"i",26),o.Tb(),o.Cc(83,L,31,18,"fieldset",27),o.Ub(84,"div",28),o.Ub(85,"button",29),o.cc("click",(function(){return t.addWorkPermit()})),o.Ec(86,"Add Work Permit "),o.Tb(),o.Tb(),o.Tb(),o.Ub(87,"div",4),o.Ub(88,"div",5),o.Ub(89,"span"),o.Ec(90,"Passport Details"),o.Tb(),o.Pb(91,"i",26),o.Tb(),o.Cc(92,$,42,20,"fieldset",30),o.Ub(93,"div",28),o.Ub(94,"button",29),o.cc("click",(function(){return t.addPassport()})),o.Ec(95,"Add Passport "),o.Tb(),o.Tb(),o.Tb(),o.Ub(96,"div",31),o.Ub(97,"div",5),o.Ec(98,"Family Details"),o.Tb(),o.Cc(99,Y,30,7,"fieldset",32),o.Ub(100,"div",28),o.Ub(101,"button",29),o.cc("click",(function(){return t.addFamilyMember()})),o.Ec(102,"Add Member "),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(103,"div",33),o.Ub(104,"div",34),o.Ub(105,"button",35),o.cc("click",(function(){return t.onCancel()})),o.Ec(106,"Cancel"),o.Tb(),o.Ub(107,"button",36),o.cc("click",(function(){return t.onSubmit()})),o.Ec(108," Submit "),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Cc(109,ie,6,5,"ng-template",null,37,o.Dc),o.Tb()),2&e){const e=o.sc(33);o.Cb(2),o.lc("formGroup",t.empDetailsForm),o.Cb(2),o.Fc(t.isUserProfile?"User Profile Form":"Employee Registration Form"),o.Cb(10),o.lc("ngIf",t.isFieldValid("firstName")),o.Cb(5),o.lc("ngIf",t.isFieldValid("lastName")),o.Cb(6),o.lc("ngForOf",t.genderOptions),o.Cb(1),o.lc("ngIf",t.isFieldValid("sex")),o.Cb(4),o.lc("min",t.pastDate(75))("max",t.pastDate(20))("matDatepicker",e),o.Cb(1),o.lc("for",e),o.Cb(3),o.lc("ngIf",t.isFieldValid("dateOfBirth")),o.Cb(5),o.lc("ngIf",t.isFieldValid("jobRole")),o.Cb(5),o.lc("readonly",(null==t.profileUser||null==t.profileUser.employeeDetails?null:t.profileUser.employeeDetails.id)===t.empDetailsForm.get("id").value),o.Cb(1),o.lc("ngIf",t.isFieldValid("emailId")),o.Cb(5),o.lc("ngIf",t.isFieldValid("contactNumber")),o.Cb(6),o.lc("ngIf",t.isFieldValid("addressLine1")),o.Cb(5),o.lc("ngIf",t.isFieldValid("addressLine2")),o.Cb(6),o.lc("ngIf",t.isFieldValid("city")),o.Cb(5),o.lc("ngIf",t.isFieldValid("postalCode")),o.Cb(5),o.lc("ngIf",t.isFieldValid("country")),o.Cb(5),o.lc("matTooltip","Uploading supporting document field will be enabled only if you fill all other details"),o.Cb(1),o.lc("ngForOf",t.workPermitDetails.controls),o.Cb(2),o.lc("disabled",t.disableAddBtn("workPermitDetails")),o.Cb(6),o.lc("matTooltip","Uploading supporting document field will be enabled only if you fill all other details"),o.Cb(1),o.lc("ngForOf",t.passportDetails.controls),o.Cb(2),o.lc("disabled",t.disableAddBtn("passportDetails")),o.Cb(5),o.lc("ngForOf",t.familyDetails.controls),o.Cb(2),o.lc("disabled",t.disableAddBtn("familyDetails")),o.Cb(6),o.lc("disabled",!t.empDetailsForm.valid)}},directives:[i.t,i.o,i.h,d.c,d.f,p.b,i.b,i.n,i.g,i.r,b.l,f.a,b.k,u.b,u.d,d.g,u.a,g.a,h.a,d.b,C.o,i.c,i.i,b.q,D.a,T.a],pipes:[b.t],styles:['.circle-loader[_ngcontent-%COMP%]{width:40px;height:40px;-webkit-animation:spin 2s linear infinite;animation:spin 2s linear infinite;border:4px solid #008073;border-top-color:#fff;border-radius:50%;display:inline-block}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.anchor-link[_ngcontent-%COMP%]{color:#4285f4;cursor:pointer}.anchor-link[_ngcontent-%COMP%]:hover{color:#0056b3}.anchor-link[_ngcontent-%COMP%]:active{color:#201aa2} ::-webkit-scrollbar{width:8px;height:5px} ::-webkit-scrollbar-track{background:#eee} ::-webkit-scrollbar-thumb{background:#aaa;border-radius:10px} ::-webkit-scrollbar-thumb:hover{background:#aaa;border-right:10px}  body{font-family:robotoRegular,sans-serif}  a{cursor:pointer}  i.clickable{color:#f4623a;cursor:pointer}  i.clickable:hover{color:coral}  i.clickable:active{color:#f4623a}  i.label{color:rgba(0,0,0,.5)}  i.error-icon{color:#f44336;cursor:pointer}  i.fa-file-excel{color:#1d6f42;cursor:pointer}  i.fa-file-csv{color:#28a745;cursor:pointer}  i.fa-file-pdf{color:#fa0f00;cursor:pointer}  .disabled{pointer-events:none;opacity:.5}  .warning{background-color:orange}  .error{background-color:#ff073a}  .info{background-color:#007bff}  .success{background-color:#28a745}  .file-custom-error,   .txt-ellipsis{width:"";white-space:nowrap;overflow:hidden;text-overflow:ellipsis}  .file-custom-error{height:25px;font-size:75%;padding:0 1em}  .mat-form-field-appearance-outline .mat-form-field-infix{padding:0 0 .75em}  .mat-form-field-appearance-outline .mat-form-field-label{top:1.2em}  .mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,   .mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1em) scale(.75)}  .mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,   .mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em!important;height:1em!important}  .mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,   .mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{width:2em;height:2em}  mat-error{width:"";white-space:nowrap;overflow:hidden;text-overflow:ellipsis}  .mat-row:hover{background-color:#f8f8f8}  .mat-row.active{background-color:#eee}#edit-profile[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{background:#fff}#edit-profile[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .add-item-btn[_ngcontent-%COMP%]{padding-left:30px;padding-right:30px}#edit-profile[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .drop-zone[_ngcontent-%COMP%]{height:40px;border:1px dashed #d4d4d4;border-radius:5px;background:#fff;margin-top:4px}#edit-profile[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .drop-zone[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], #edit-profile[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .drop-zone[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], #edit-profile[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .drop-zone[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#495057}#edit-profile[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .drop-zone.error-bdr[_ngcontent-%COMP%]{border:1px dashed #f44336}#edit-profile[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .drop-zone.on-hover[_ngcontent-%COMP%]{border:2px dashed #007bff;opacity:.7;background:#e6edf3}#edit-profile[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .file-zone[_ngcontent-%COMP%]{height:40px;border:1px solid #d4d4d4;border-radius:5px;background:#fff;margin-top:4px}#edit-profile[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .file-zone[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], #edit-profile[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .file-zone[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#495057}#edit-profile[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .file-custom-error[_ngcontent-%COMP%]{width:"";white-space:nowrap;overflow:hidden;text-overflow:ellipsis;height:25px;font-size:75%;padding:0 1em}']}),e})()},c1HU:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var o=r("tyNb"),i=r("pLZG"),a=r("/uUt"),l=r("fXoL"),n=r("ofXK");const c=function(e,t){return[e,t]};function s(e,t){if(1&e&&(l.Ub(0,"a",7),l.Ec(1),l.Tb()),2&e){const e=l.gc().$implicit;l.lc("routerLink",l.qc(2,c,e.url,e.params)),l.Cb(1),l.Gc("",e.label," ")}}function m(e,t){1&e&&(l.Ub(0,"span",8),l.Pb(1,"i",9),l.Tb())}function d(e,t){if(1&e&&l.Ec(0),2&e){const e=l.gc().$implicit;l.Fc(e.label)}}const p=function(e){return{active:e}};function b(e,t){if(1&e&&(l.Ub(0,"li",3),l.Cc(1,s,2,5,"a",4),l.Cc(2,m,2,0,"span",5),l.Cc(3,d,1,1,"ng-template",null,6,l.Dc),l.Tb()),2&e){const e=t.last,r=l.sc(4);l.lc("ngClass",l.pc(4,p,e)),l.Cb(1),l.lc("ngIf",!e)("ngIfElse",r),l.Cb(1),l.lc("ngIf",!e)}}let f=(()=>{class e{constructor(e,t){this.activatedRoute=e,this.router=t,this.subscriptions=[],this.breadcrumbs=[],this.subscriptions.push(this.router.events.pipe(Object(i.a)(e=>e instanceof o.b),Object(a.a)()).subscribe(e=>{const t=this.activatedRoute.root;this.breadcrumbs=this.getBreadcrumbs(t),this.breadcrumbs=this.getBreadcrumbs(t).filter(e=>null!==e.label)}))}ngOnInit(){}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}getBreadcrumbs(e,t="",r=[]){const i=e.children;if(0===i.length)return r;for(const a of i){if(a.outlet!==o.c)continue;if(!a.snapshot.data.hasOwnProperty("breadcrumb"))return this.getBreadcrumbs(a,t,r);const e=a.snapshot.url.map(e=>e.path).join("/"),i={label:a.snapshot.data.breadcrumb,params:a.snapshot.params,url:t+=e?`/${e}`:""};return r=[...r,i],this.getBreadcrumbs(a,t,r)}return r}}return e.\u0275fac=function(t){return new(t||e)(l.Ob(o.a),l.Ob(o.d))},e.\u0275cmp=l.Ib({type:e,selectors:[["app-breadcrumb"]],decls:3,vars:1,consts:[["id","app-breadcrumb"],[1,"breadcrumb","breadcrumb-items","mb-0"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"routerLink",4,"ngIf","ngIfElse"],["class","pl-2 pr-2",4,"ngIf"],["lastRoute",""],[3,"routerLink"],[1,"pl-2","pr-2"],[1,"label","fa","fa-chevron-right"]],template:function(e,t){1&e&&(l.Ub(0,"div",0),l.Ub(1,"ol",1),l.Cc(2,b,5,6,"li",2),l.Tb(),l.Tb()),2&e&&(l.Cb(2),l.lc("ngForOf",t.breadcrumbs))},directives:[n.k,n.j,n.l,o.f],styles:['.circle-loader[_ngcontent-%COMP%]{width:40px;height:40px;-webkit-animation:spin 2s linear infinite;animation:spin 2s linear infinite;border:4px solid #008073;border-top-color:#fff;border-radius:50%;display:inline-block}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.anchor-link[_ngcontent-%COMP%]{color:#4285f4;cursor:pointer}.anchor-link[_ngcontent-%COMP%]:hover{color:#0056b3}.anchor-link[_ngcontent-%COMP%]:active{color:#201aa2} ::-webkit-scrollbar{width:8px;height:5px} ::-webkit-scrollbar-track{background:#eee} ::-webkit-scrollbar-thumb{background:#aaa;border-radius:10px} ::-webkit-scrollbar-thumb:hover{background:#aaa;border-right:10px}  body{font-family:robotoRegular,sans-serif}  a{cursor:pointer}  i.clickable{color:#f4623a;cursor:pointer}  i.clickable:hover{color:coral}  i.clickable:active{color:#f4623a}  i.label{color:rgba(0,0,0,.5)}  i.error-icon{color:#f44336;cursor:pointer}  i.fa-file-excel{color:#1d6f42;cursor:pointer}  i.fa-file-csv{color:#28a745;cursor:pointer}  i.fa-file-pdf{color:#fa0f00;cursor:pointer}  .disabled{pointer-events:none;opacity:.5}  .warning{background-color:orange}  .error{background-color:#ff073a}  .info{background-color:#007bff}  .success{background-color:#28a745}  .file-custom-error,   .txt-ellipsis{width:"";white-space:nowrap;overflow:hidden;text-overflow:ellipsis}  .file-custom-error{height:25px;font-size:75%;padding:0 1em}  .mat-form-field-appearance-outline .mat-form-field-infix{padding:0 0 .75em}  .mat-form-field-appearance-outline .mat-form-field-label{top:1.2em}  .mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,   .mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1em) scale(.75)}  .mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,   .mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em!important;height:1em!important}  .mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,   .mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{width:2em;height:2em}  mat-error{width:"";white-space:nowrap;overflow:hidden;text-overflow:ellipsis}  .mat-row:hover{background-color:#f8f8f8}  .mat-row.active{background-color:#eee}#app-breadcrumb[_ngcontent-%COMP%]{box-shadow:0 1px 5px 0 rgba(0,0,0,.16),0 2px 10px 0 rgba(0,0,0,.12);background:none repeat scroll 0 0 #fff!important}#app-breadcrumb[_ngcontent-%COMP%]   .breadcrumb-items[_ngcontent-%COMP%]{height:30px;padding:6px 16px;font-size:12px}#app-breadcrumb[_ngcontent-%COMP%]   .breadcrumb-items[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{color:#f4623a!important}']}),e})()},oWnG:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var o=r("fXoL");let i=(()=>{class e{constructor(e,t){this.renderer=e,this.el=t}ngOnInit(){}onClick(e){e.target.classList.contains("click-file-download-icon")&&this.download()}download(){const e=this.renderer.createElement("a");this.renderer.setProperty(e,"href",URL.createObjectURL(this.appFileDownload.file)),this.renderer.setProperty(e,"download",this.appFileDownload.fileName),this.renderer.setStyle(e,"display","none"),this.renderer.appendChild(this.el.nativeElement,e),e.click(),this.renderer.removeChild(this.el.nativeElement,e)}}return e.\u0275fac=function(t){return new(t||e)(o.Ob(o.F),o.Ob(o.l))},e.\u0275dir=o.Jb({type:e,selectors:[["","appFileDownload",""]],hostBindings:function(e,t){1&e&&o.cc("click",(function(e){return t.onClick(e)}))},inputs:{appFileDownload:"appFileDownload"}}),e})()},uoTK:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var o=r("fXoL"),i=r("VHTt"),a=r("tyNb"),l=r("3TQZ"),n=r("bF/t");let c=(()=>{class e{constructor(e,t){this.router=e,this.authService=t,this.cancelAction=new o.o,this.submitAction=new o.o,this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.authService.$profileUser.subscribe(e=>{const{employeeDetails:t}=e;this.role=e.role.toUpperCase(),t&&(this.empDetails=t)}))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}onCancel(){this.role===i.g.ADMIN?this.router.navigate(["comp/dashboard"]):this.role===i.g.EMPLOYEE&&this.router.navigate(["emp/dashboard"])}onSubmit(e){console.log(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Ob(a.d),o.Ob(l.a))},e.\u0275cmp=o.Ib({type:e,selectors:[["app-profile"]],inputs:{empDetails:"empDetails"},outputs:{cancelAction:"cancelAction",submitAction:"submitAction"},decls:2,vars:2,consts:[["id","app-profile"],[3,"isUserProfile","empDetails","cancelAction","submitAction"]],template:function(e,t){1&e&&(o.Ub(0,"div",0),o.Ub(1,"app-edit-profile",1),o.cc("cancelAction",(function(){return t.onCancel()}))("submitAction",(function(e){return t.onSubmit(e)})),o.Tb(),o.Tb()),2&e&&(o.Cb(1),o.lc("isUserProfile",!0)("empDetails",t.empDetails))},directives:[n.a],styles:['.circle-loader[_ngcontent-%COMP%]{width:40px;height:40px;-webkit-animation:spin 2s linear infinite;animation:spin 2s linear infinite;border:4px solid #008073;border-top-color:#fff;border-radius:50%;display:inline-block}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.anchor-link[_ngcontent-%COMP%]{color:#4285f4;cursor:pointer}.anchor-link[_ngcontent-%COMP%]:hover{color:#0056b3}.anchor-link[_ngcontent-%COMP%]:active{color:#201aa2} ::-webkit-scrollbar{width:8px;height:5px} ::-webkit-scrollbar-track{background:#eee} ::-webkit-scrollbar-thumb{background:#aaa;border-radius:10px} ::-webkit-scrollbar-thumb:hover{background:#aaa;border-right:10px}  body{font-family:robotoRegular,sans-serif}  a{cursor:pointer}  i.clickable{color:#f4623a;cursor:pointer}  i.clickable:hover{color:coral}  i.clickable:active{color:#f4623a}  i.label{color:rgba(0,0,0,.5)}  i.error-icon{color:#f44336;cursor:pointer}  i.fa-file-excel{color:#1d6f42;cursor:pointer}  i.fa-file-csv{color:#28a745;cursor:pointer}  i.fa-file-pdf{color:#fa0f00;cursor:pointer}  .disabled{pointer-events:none;opacity:.5}  .warning{background-color:orange}  .error{background-color:#ff073a}  .info{background-color:#007bff}  .success{background-color:#28a745}  .file-custom-error,   .txt-ellipsis{width:"";white-space:nowrap;overflow:hidden;text-overflow:ellipsis}  .file-custom-error{height:25px;font-size:75%;padding:0 1em}  .mat-form-field-appearance-outline .mat-form-field-infix{padding:0 0 .75em}  .mat-form-field-appearance-outline .mat-form-field-label{top:1.2em}  .mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,   .mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1em) scale(.75)}  .mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,   .mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em!important;height:1em!important}  .mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,   .mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{width:2em;height:2em}  mat-error{width:"";white-space:nowrap;overflow:hidden;text-overflow:ellipsis}  .mat-row:hover{background-color:#f8f8f8}  .mat-row.active{background-color:#eee}']}),e})()}}]);